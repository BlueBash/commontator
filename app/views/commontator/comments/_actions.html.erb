<%#
  Views that use this partial must supply the following variables:
  comment
  user
%>

<% can_edit = comment.can_be_edited_by?(user)
   can_delete = comment.can_be_deleted_by?(user) %>

<% if can_edit %>
  <%= link_to t('commontator.comment.actions.edit'),
              commontator.edit_comment_path(comment),
              id: "commontator-comment-#{comment.id}-edit",
              class: 'edit',
              remote: true %>
<% end %>

<% if can_delete %>
  <% is_deleted = comment.is_deleted? %>
  <% del_string = is_deleted ? 'undelete' : 'delete' %>
  <%= link_to t("commontator.comment.actions.#{del_string}"),
              commontator.polymorphic_path([del_string, comment]),
              data: is_deleted ? {} : { confirm: t('commontator.comment.actions.confirm_delete') },
              method: :put,
              id: "commontator-comment-#{comment.id}-#{del_string}",
              class: del_string,
              remote: true %>
<% end %>
