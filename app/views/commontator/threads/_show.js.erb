<%#
  Views that use this partial must supply the following variables:
  user
  thread
  page
  show_all
%>

document.querySelector("#commontator-thread-<%= thread.id %>").innerHTML =
  '<%= escape_javascript(
      render partial: 'commontator/threads/show', formats: [:html], locals: {
        user: user, thread: thread, page: page, show_all: show_all
      }
    ) %>';
