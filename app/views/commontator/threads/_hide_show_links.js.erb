<%#
  Views that use this partial must supply the following variables:
  thread
%>

const commontatorThread = document.querySelector("#commontator-thread-<%= thread.id %>-content");
const commontatorLink = document.querySelector("#commontator-thread-<%= thread.id %>-show");

document.querySelector("#commontator-thread-<%= thread.id %>-hide-link").addEventListener('click', function() {
  commontatorThread.style.display = "none";
  commontatorLink.style.display = "";
  const scrollTopOffset = commontatorLink.offsetTop - window.innerHeight/2;
  window.scrollTo({ top: scrollTopOffset, behavior: 'smooth' });
});

document.querySelector("#commontator-thread-<%= thread.id %>-show-link").addEventListener('click', function() {
  commontatorThread.style.display = "";
  commontatorLink.style.display = "none";
  const scrollTopOffset = commontatorThread.offsetTop - window.innerHeight/2;
  window.scrollTo({ top: scrollTopOffset, behavior: 'smooth' });
});

document.querySelector("#commontator-thread-<%= thread.id %>-hide").style.display = "";
